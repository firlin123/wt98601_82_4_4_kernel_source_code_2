#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#define RBAT_PULL_DOWN_R		   27000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#define RBAT_PULL_DOWN_R		  100000	
#endif
#define RBAT_PULL_UP_VOLT          1800


#if (WT_BATTERY_TEMP_COMPENSATE)
#define TEMPERATURE_OFFSET 3
#endif

// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,67790},
        {-15,53460},
        {-10,42450},
        { -5,33930},
        {  0,27280},
        {  5,22070},
        { 10,17960},
        { 15,14700},
        { 20,12090},
        { 25,10000},
        { 30,8312},
        { 35,6942},
        { 40,5826},
        { 45,4911},
        { 50,4158},
        { 55,3536},
        { 60,3019}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0, 4188},         
	{2, 4165},         
	{3, 4146},         
	{5, 4128},         
	{6, 4112},         
	{8, 4097},         
	{10, 4083},         
	{11, 4069},         
	{13, 4053},         
	{15, 4036},         
	{16, 4019},         
	{18, 4004},         
	{19, 3991},         
	{21, 3979},         
	{23, 3968},         
	{24, 3957},         
	{26, 3945},         
	{27, 3933},         
	{29, 3921},         
	{31, 3909},         
	{32, 3897},         
	{34, 3885},         
	{36, 3873},         
	{37, 3862},         
	{39, 3851},         
	{40, 3841},         
	{42, 3832},         
	{44, 3823},         
	{45, 3815},         
	{47, 3808},         
	{48, 3802},         
	{50, 3797},         
	{52, 3792},         
	{53, 3789},         
	{55, 3787},         
	{56, 3786},         
	{58, 3784},         
	{60, 3783},         
	{61, 3782},         
	{63, 3781},         
	{64, 3780},         
	{66, 3778},         
	{68, 3776},         
	{69, 3774},         
	{71, 3770},         
	{73, 3766},         
	{74, 3759},         
	{76, 3751},         
	{77, 3741},         
	{79, 3728},         
	{81, 3711},         
	{82, 3691},         
	{84, 3670},         
	{85, 3648},         
	{87, 3627},         
	{89, 3607},         
	{90, 3589},         
	{92, 3572},         
    {94, 3556},
	{95, 3541},         
	{97, 3528},          
    {98, 3515},
    {100 , 3502},
    {100 , 3400},
    {100 , 3400},
    {100 , 3400},
    {100 , 3400},
    {100 , 3400},
    {100 , 3400},
    {100 , 3400},
	{100 , 3400}           
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0 , 4190},         
	{2 , 4169},         
	{3 , 4151},         
	{5 , 4134},         
	{6 , 4117},         
	{8 , 4102},         
	{9 , 4087},         
	{11 , 4074},         
	{12 , 4059},         
	{14 , 4043},         
	{15 , 4027},         
	{17 , 4012},         
	{18 , 3999},         
	{20 , 3987},         
	{21 , 3976},         
	{23 , 3965},         
	{24 , 3953},         
	{26 , 3946},         
	{27 , 3931},         
	{29 , 3921},         
	{30 , 3910},         
	{32 , 3899},         
	{33 , 3887},         
	{35 , 3875},         
	{36 , 3863},         
	{38 , 3851},         
	{39 , 3840},         
	{41 , 3829},         
	{42 , 3819},         
	{44 , 3810},         
	{45 , 3803},         
	{47 , 3797},         
	{48 , 3792},         
	{50 , 3788},         
	{51 , 3784},         
	{53 , 3782},         
	{54 , 3781},         
	{56 , 3780},         
	{57 , 3779},         
	{59 , 3779},         
	{60 , 3778},         
	{62 , 3778},         
	{63 , 3776},         
	{65 , 3774},         
	{66 , 3772},         
	{68 , 3769},         
	{69 , 3764},         
	{71 , 3758},         
	{72 , 3750},         
	{74 , 3740},         
	{75 , 3727},         
	{77 , 3711},         
	{78 , 3693},         
	{80 , 3672},         
	{81 , 3651},         
	{83 , 3630},         
	{84 , 3610},         
	{86 , 3589},         
    {87 , 3569},
	{89 , 3551},         
	{90 , 3536},          
    {92 , 3523},
    {93 , 3511},
    {95 , 3500},
    {96 , 3485},
    {98 , 3464},
    {99 , 3429},
    {100 , 3400},
    {100 , 3400},
    {100 , 3400},
	{100 , 3400}       
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0 , 4184},         
	{1 , 4164},         
	{3 , 4147},         
	{4 , 4130},         
	{6 , 4114},         
	{7 , 4098},         
	{9 , 4084},         
	{10 , 4069},         
	{12 , 4055},         
	{13 , 4040},         
	{15 , 4027},         
	{16 , 4014},         
	{18 , 4001},         
	{19 , 3989},         
	{21 , 3976},         
	{22 , 3965},         
	{24 , 3954},         
	{25 , 3943},         
	{27 , 3932},         
	{28 , 3922},         
	{30 , 3912},         
	{31 , 3903},         
	{33 , 3894},         
	{34 , 3885},         
	{36 , 3876},         
	{37 , 3868},         
	{39 , 3860},         
	{40 , 3852},         
	{42 , 3843},         
	{43 , 3832},         
	{45 , 3819},         
	{46 , 3807},         
	{48 , 3797},         
	{49 , 3790},         
	{51 , 3784},         
	{52 , 3779},         
	{53 , 3776},         
	{55 , 3775},         
	{56 , 3774},         
	{58 , 3773},         
	{59 , 3772},         
	{61 , 3771},         
	{62 , 3770},         
	{64 , 3770},         
	{65 , 3768},         
	{67 , 3766},         
	{68 , 3764},         
	{70 , 3760},         
	{71 , 3754},         
	{73 , 3748},         
	{74 , 3739},         
	{76 , 3728},         
	{77 , 3720},         
	{79 , 3706},         
	{80 , 3696},         
	{82 , 3676},         
	{83 , 3670},         
	{85 , 3665},         
	{86 , 3660},         
	{88 , 3655},         
	{89 , 3650},          
    {91 , 3645},
    {92 , 3640},
    {94 , 3635},
    {95 , 3630},
    {97 , 3620},
    {98 , 3600},
    {99 , 3570},
    {100, 3500},
    {100, 3500},
	{100, 3500}       
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0 , 4178},         
	{1 , 4160},         
	{3 , 4142},         
	{4 , 4126},         
	{6 , 4110},         
	{7 , 4094},         
	{9 , 4079},         
	{10 , 4064},         
	{12 , 4050},         
	{13 , 4036},         
	{15 , 4023},         
	{16 , 4009},         
	{18 , 3996},         
	{19 , 3984},         
	{21 , 3972},         
	{22 , 3960},         
	{24 , 3949},         
	{25 , 3938},         
	{27 , 3926},         
	{28 , 3916},         
	{30 , 3906},         
	{31 , 3897},         
	{33 , 3888},         
	{34 , 3878},         
	{36 , 3870},         
	{37 , 3861},         
	{39 , 3854},         
	{40 , 3846},         
	{42 , 3839},         
	{43 , 3829},         
	{45 , 3819},         
	{46 , 3805},         
	{48 , 3793},         
	{49 , 3785},         
	{51 , 3779},         
	{52 , 3775},         
	{54 , 3771},         
	{55 , 3769},         
	{57 , 3767},         
	{58 , 3766},         
	{60 , 3765},         
	{61 , 3764},         
	{63 , 3763},         
	{64 , 3762},         
	{66 , 3761},         
	{67 , 3759},         
	{69 , 3757},         
	{70 , 3753},         
	{72 , 3748},         
	{73 , 3739},         
	{75 , 3727},         
	{76 , 3716},         
	{78 , 3702},         
	{79 , 3699},         
	{80 , 3696},         
	{82 , 3676},         
	{83 , 3670},         
	{85 , 3665},         
	{86 , 3660},         
	{88 , 3655},         
	{89 , 3650},          
    {91 , 3645},
    {92 , 3640},
    {94 , 3635},
    {95 , 3630},
    {97 , 3620},
    {98 , 3600},
    {99 , 3570},
    {100, 3500},
    {100, 3500},
	{100, 3500}   
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
    {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{653 , 4188},         
	{653 , 4165},         
	{655 , 4146},         
	{657 , 4128},         
	{659 , 4112},         
	{660 , 4097},         
	{662 , 4083},         
	{668 , 4069},         
	{676 , 4053},         
	{676 , 4036},         
	{674 , 4019},         
	{669 , 4004},         
	{664 , 3991},         
	{664 , 3979},         
	{663 , 3968},         
	{663 , 3957},         
	{664 , 3945},         
	{663 , 3933},         
	{661 , 3921},         
	{657 , 3909},         
	{648 , 3897},         
	{640 , 3885},         
	{636 , 3873},         
	{633 , 3862},         
	{628 , 3851},         
	{623 , 3841},         
	{625 , 3832},         
	{622 , 3823},         
	{622 , 3815},         
	{621 , 3808},         
	{622 , 3802},         
	{624 , 3797},         
	{624 , 3792},         
	{627 , 3789},         
	{634 , 3787},         
	{637 , 3786},         
	{642 , 3784},         
	{650 , 3783},         
	{656 , 3782},         
	{664 , 3781},         
	{672 , 3780},         
	{681 , 3778},         
	{691 , 3776},         
	{706 , 3774},         
	{726 , 3770},         
	{751 , 3766},         
	{784 , 3759},         
	{825 , 3751},         
	{868 , 3741},         
	{905 , 3728},         
	{931 , 3711},         
	{946 , 3691},         
	{957 , 3670},         
	{966 , 3648},         
	{978 , 3627},         
	{993 , 3607},         
	{1017 , 3589},         
	{1053 , 3572},         
	{1106 , 3556},         
	{1195 , 3541},         
	{1350 , 3528},          
    {1651 , 3515},
    {2290 , 3502},
    {2036 , 3400},
    {2036 , 3400},
    {2036 , 3400},
    {2036 , 3400},
    {2036 , 3400},
    {2036 , 3400},
    {2036 , 3400},
	{2036 , 3400}       
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{420, 4190},         
	{420, 4169},         
	{426, 4151},         
	{430, 4134},         
	{432, 4117},         
	{436, 4102},         
	{436, 4087},         
	{441, 4074},         
	{446, 4059},         
	{450, 4043},         
	{452, 4027},         
	{454, 4012},         
	{457, 3999},         
	{457, 3987},         
	{457, 3976},         
	{464, 3965},         
	{463, 3953},         
	{467, 3946},         
	{468, 3931},         
	{470, 3921},         
	{472, 3910},         
	{473, 3899},         
	{470, 3887},         
	{463, 3875},         
	{456, 3863},         
	{446, 3851},         
	{440, 3840},         
	{437, 3829},         
	{430, 3819},         
	{424, 3810},         
	{422, 3803},         
	{419, 3797},         
	{414, 3792},         
	{413, 3788},         
	{413, 3784},         
	{410, 3782},         
	{412, 3781},         
	{413, 3780},         
	{416, 3779},         
	{419, 3779},         
	{423, 3778},         
	{427, 3778},         
	{433, 3776},         
	{439, 3774},         
	{447, 3772},         
	{456, 3769},         
	{467, 3764},         
	{485, 3758},         
	{505, 3750},         
	{529, 3740},         
	{550, 3727},         
	{565, 3711},         
	{572, 3693},         
	{574, 3672},         
	{577, 3651},         
	{579, 3630},         
	{585, 3610},         
	{592, 3589},         
	{604, 3569},         
	{616, 3551},         
	{641, 3536},          
    {681, 3523},
    {753, 3511},
    {885, 3500},
    {1161, 3485},
    {1842, 3464},
    {1754, 3429},
    {1754, 3400},
    {1754, 3400},
    {1754, 3400},
	{1754, 3400}	       
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{149  , 4184},         
	{149  , 4164},         
	{149  , 4147},         
	{150  , 4130},         
	{150  , 4114},         
	{150  , 4098},         
	{153  , 4084},         
	{152  , 4069},         
	{153  , 4055},         
	{154  , 4040},         
	{155  , 4027},         
	{157  , 4014},         
	{158  , 4001},         
	{159  , 3989},         
	{160  , 3976},         
	{163  , 3965},         
	{163  , 3954},         
	{166  , 3943},         
	{167  , 3932},         
	{171  , 3922},         
	{173  , 3912},         
	{177  , 3903},         
	{178  , 3894},         
	{184  , 3885},         
	{188  , 3876},         
	{192  , 3868},         
	{197  , 3860},         
	{201  , 3852},         
	{200  , 3843},         
	{194  , 3832},         
	{182  , 3819},         
	{171  , 3807},         
	{161  , 3797},         
	{156  , 3790},         
	{152  , 3784},         
	{150  , 3779},         
	{150  , 3776},         
	{151  , 3775},         
	{151  , 3774},         
	{153  , 3773},         
	{155  , 3772},         
	{156  , 3771},         
	{157  , 3770},         
	{160  , 3770},         
	{162  , 3768},         
	{164  , 3766},         
	{166  , 3764},         
	{168  , 3760},         
	{168  , 3754},         
	{171  , 3748},         
	{172  , 3739},         
	{176  , 3728},         
	{178  , 3714},         
	{180  , 3706},         
	{180  , 3696},         
	{179  , 3676},         
	{178  , 3670},         
	{179  , 3665},         
	{178  , 3660},         
	{178  , 3655},         
	{179  , 3650},          
    {181  , 3645},
    {182  , 3640},
    {187  , 3635},
    {197  , 3630},
    {210  , 3620},
    {227  , 3600},
    {244  , 3570},
    {244  , 3500},
    {244  , 3500},
	{244  , 3500}       
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{126  , 4178},         
	{126  , 4160},         
	{127  , 4142},         
	{130  , 4126},         
	{128  , 4110},         
	{127  , 4094},         
	{128  , 4079},         
	{129  , 4064},         
	{132  , 4050},         
	{130  , 4036},         
	{130  , 4023},         
	{131  , 4009},         
	{131  , 3996},         
	{132  , 3984},         
	{135  , 3972},         
	{135  , 3960},         
	{137  , 3949},         
	{136  , 3938},         
	{137  , 3926},         
	{139  , 3916},         
	{140  , 3906},         
	{142  , 3897},         
	{143  , 3888},         
	{147  , 3878},         
	{148  , 3870},         
	{151  , 3861},         
	{155  , 3854},         
	{159  , 3846},         
	{162  , 3839},         
	{165  , 3829},         
	{161  , 3819},         
	{147  , 3805},         
	{138  , 3793},         
	{133  , 3785},         
	{130  , 3779},         
	{130  , 3775},         
	{129  , 3771},         
	{131  , 3769},         
	{130  , 3767},         
	{133  , 3766},         
	{133  , 3765},         
	{132  , 3764},         
	{136  , 3763},         
	{137  , 3762},         
	{139  , 3761},         
	{142  , 3759},         
	{141  , 3757},         
	{144  , 3753},         
	{144  , 3748},         
	{139  , 3739},         
	{137  , 3727},         
	{141  , 3716},         
	{140  , 3702},         
	{140  , 3699},         
	{139  , 3696},         
	{140  , 3676},         
	{141  , 3670},         
	{142  , 3665},         
	{140  , 3660},         
	{140  , 3655},         
	{140  , 3650},          
    {141  , 3645},
    {142  , 3640},
    {144  , 3635},
    {148  , 3630},
    {153  , 3620},
    {156  , 3600},
    {161  , 3570},
    {161  , 3500},
    {161  , 3500},
	{161  , 3500}       
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

